/*!
 * VERSION: beta 0.1.0
 * DATE: 2014-01-15
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2014, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var e=/[^\d\-\.]/g,t=Math.PI/180,n=/(\d|\.)+/g,r={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},i=function(e){if(typeof e==="number"){return[e>>16,e>>8&255,e&255]}else if(e===""||e==null||e==="none"||typeof e!=="string"){return r.transparent}else if(r[e]){return r[e]}else if(e.charAt(0)==="#"){if(e.length===4){e="#"+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)+e.charAt(3)+e.charAt(3)}e=parseInt(e.substr(1),16);return[e>>16,e>>8&255,e&255]}return e.match(n)||r.transparent},s={scaleX:1,scaleY:1,tx:1,ty:1,rotation:1,shortRotation:1,skewX:1,skewY:1,scale:1},o=function(e,t){var n=e.attr("transform").localMatrix,r=1e-6,i=n.a,s=n.b,o=n.c,u=n.d,a=t?e._gsTransform||{skewY:0}:{skewY:0},f=a.scaleX<0;a.tx=n.e-(a.ox||0);a.ty=n.f-(a.oy||0);a.scaleX=Math.sqrt(i*i+s*s);a.scaleY=Math.sqrt(u*u+o*o);a.rotation=i||s?Math.atan2(s,i):a.rotation||0;a.skewX=o||u?Math.atan2(o,u)+a.rotation:a.skewX||0;if(Math.abs(a.skewX)>Math.PI/2){if(f){a.scaleX*=-1;a.skewX+=a.rotation<=0?Math.PI:-Math.PI;a.rotation+=a.rotation<=0?Math.PI:-Math.PI}else{a.scaleY*=-1;a.skewX+=a.skewX<=0?Math.PI:-Math.PI}}if(a.rotation<r)if(a.rotation>-r)if(i||s){a.rotation=0}if(a.skewX<r)if(a.skewX>-r)if(s||o){a.skewX=0}if(t){e._gsTransform=a}return a},u=function(e,t){return e==null?t:typeof e==="string"&&e.indexOf("=")===1?parseInt(e.charAt(0)+"1",10)*Number(e.substr(2))+t:Number(e)},a=function(n,r){var i=n.indexOf("rad")===-1?t:1,s=n.indexOf("=")===1;n=Number(n.replace(e,""))*i;return s?n+r:n},f=window._gsDefine.plugin({propName:"raphael",API:2,init:function(t,n,r){if(!t.attr){return false}this._target=t;this._tween=r;this._props=t._gsProps=t._gsProps||{};var o,u,a,f,l,c,h;for(o in n){a=n[o];if(o==="transform"){this._parseTransform(t,a);continue}else if(s[o]||o==="pivot"){this._parseTransform(t,n);continue}u=t.attr(o);this._firstPT=f={_next:this._firstPT,t:this._props,p:o,b:u,f:false,n:"raphael_"+o,r:false,type:0};if(o==="fill"||o==="stroke"){l=i(u);c=i(a);f.e=a;f.s=Number(l[0]);f.c=Number(c[0])-f.s;f.gs=Number(l[1]);f.gc=Number(c[1])-f.gs;f.bs=Number(l[2]);f.bc=Number(c[2])-f.bs;if(l.length>3||c.length>3){f.as=l.length<4?1:Number(l[3]);f.ac=(c.length<4?1:Number(c[3]))-f.as;f.type=2}else{f.type=1}}else{u=typeof u==="string"?parseFloat(u.replace(e,"")):Number(u);if(typeof a==="string"){h=a.charAt(1)==="=";a=parseFloat(a.replace(e,""))}else{h=false}f.e=a||a===0?h?a+u:a:n[o];if((u||u===0)&&(a||a===0)&&(f.c=h?a:a-u)){f.s=u}else{f.type=-1;f.i=n[o];f.s=f.c=0}}this._overwriteProps.push("raphael_"+o);if(f._next){f._next._prev=f}}return true},set:function(e){var t=this._firstPT,n;while(t){n=t.c*e+t.s;if(t.r){n=n>0?n+.5>>0:n-.5>>0}if(!t.type){t.t[t.p]=n}else if(t.type===1){t.t[t.p]="rgb("+(n>>0)+", "+(t.gs+e*t.gc>>0)+", "+(t.bs+e*t.bc>>0)+")"}else if(t.type===2){t.t[t.p]="rgba("+(n>>0)+", "+(t.gs+e*t.gc>>0)+", "+(t.bs+e*t.bc>>0)+", "+(t.as+e*t.ac)+")"}else if(t.type===-1){t.t[t.p]=t.i}t=t._next}this._target.attr(this._props);if(this._transform){t=this._transform;var r=t.rotation,i=r-t.skewX,s=Math.cos(r)*t.scaleX,o=Math.sin(r)*t.scaleX,u=Math.sin(i)*-t.scaleY,a=Math.cos(i)*t.scaleY,f=1e-6,l=this._pxl,c=this._pyl;if(o<f)if(o>-f){o=0}if(u<f)if(u>-f){u=0}t.ox=this._pxg-(l*s+c*u);t.oy=this._pyg-(l*o+c*a);this._target.transform("m"+s+","+o+","+u+","+a+","+(t.tx+t.ox)+","+(t.ty+t.oy))}}}),l=f.prototype;l._parseTransform=function(e,n){if(this._transform){return}var r=this._transform=o(e,true),i=1e-6,f,l,c,h,p,d,v,m,g;if(typeof n==="object"){f={scaleX:u(n.scaleX!=null?n.scaleX:n.scale,r.scaleX),scaleY:u(n.scaleY!=null?n.scaleY:n.scale,r.scaleY),tx:u(n.tx,r.tx),ty:u(n.ty,r.ty)};if(n.shortRotation!=null){f.rotation=typeof n.shortRotation==="number"?n.shortRotation*t:a(n.shortRotation,r.rotation);var y=(f.rotation-r.rotation)%(Math.PI*2);if(y!==y%Math.PI){y+=Math.PI*(y<0?2:-2)}f.rotation=r.rotation+y}else{f.rotation=n.rotation==null?r.rotation:typeof n.rotation==="number"?n.rotation*t:a(n.rotation,r.rotation)}f.skewX=n.skewX==null?r.skewX:typeof n.skewX==="number"?n.skewX*t:a(n.skewX,r.skewX);f.skewY=n.skewY==null?r.skewY:typeof n.skewY==="number"?n.skewY*t:a(n.skewY,r.skewY);if(l=f.skewY-r.skewY){f.skewX+=l;f.rotation+=l}if(f.skewY<i)if(f.skewY>-i){f.skewY=0}if(f.skewX<i)if(f.skewX>-i){f.skewX=0}if(f.rotation<i)if(f.rotation>-i){f.rotation=0}g=n.localPivot||n.globalPivot;if(typeof g==="string"){p=g.split(",");d=Number(p[0]);v=Number(p[1])}else if(typeof g==="object"){d=Number(g.x);v=Number(g.y)}else if(n.localPivot){p=e.getBBox(true);d=p.width/2;v=p.height/2}else{p=e.getBBox();d=p.x+p.width/2;v=p.y+p.height/2}if(n.localPivot){m=e.attr("transform").localMatrix;d+=e.attr("x");v+=e.attr("y");this._pxl=d;this._pyl=v;this._pxg=d*m.a+v*m.c+m.e-r.tx;this._pyg=d*m.b+v*m.d+m.f-r.ty}else{var b=new Snap.Matrix;m=b.add(e.a,e.b,e.c,e.d,e.e,e.f).invert();this._pxl=d*m.a+v*m.c+m.e;this._pyl=d*m.b+v*m.d+m.f;this._pxg=d-r.tx;this._pyg=v-r.ty}}else if(typeof n==="string"){p=this._target.transform();e.transform(n);f=o(e,false);e.transform(p)}else{return}for(c in s){if(r[c]!==f[c])if(c!=="shortRotation")if(c!=="scale"){this._firstPT=h={_next:this._firstPT,t:r,p:c,s:r[c],c:f[c]-r[c],n:c,f:false,r:false,b:r[c],e:f[c],type:0};if(h._next){h._next._prev=h}this._overwriteProps.push("raphael_"+c)}}}});if(window._gsDefine){window._gsQueue.pop()()}